<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="case_2views_8py" kind="file">
    <compoundname>views.py</compoundname>
    <innerclass refid="classcase_1_1views_1_1_ajaxable_response_mixin" prot="public">case::views::AjaxableResponseMixin</innerclass>
    <innerclass refid="classcase_1_1views_1_1_case_home" prot="public">case::views::CaseHome</innerclass>
    <innerclass refid="classcase_1_1views_1_1_case_detail" prot="public">case::views::CaseDetail</innerclass>
    <innerclass refid="classcase_1_1views_1_1_case_create" prot="public">case::views::CaseCreate</innerclass>
    <innerclass refid="classcase_1_1views_1_1_case_update" prot="public">case::views::CaseUpdate</innerclass>
    <innerclass refid="classcase_1_1views_1_1_case_delete" prot="public">case::views::CaseDelete</innerclass>
    <innerclass refid="classcase_1_1views_1_1_case_note_create" prot="public">case::views::CaseNoteCreate</innerclass>
    <innerclass refid="classcase_1_1views_1_1_case_table" prot="public">case::views::CaseTable</innerclass>
    <innerclass refid="classcase_1_1views_1_1_case_list" prot="public">case::views::CaseList</innerclass>
    <innernamespace refid="namespacecase_1_1views">case::views</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacecase_1_1views" refkind="compound"><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2"><highlight class="stringliteral">Definition<sp/>of<sp/>views.</highlight></codeline>
<codeline lineno="3"><highlight class="stringliteral">&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.shortcuts<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>render</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.http<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>HttpRequest</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.template<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>RequestContext</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>datetime<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>datetime</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacecase_1_1forms" kindref="compound">case.forms</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>CaseCreateForm,<sp/>CaseEditForm,<sp/>CaseNoteCreateForm</highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacecase_1_1models" kindref="compound">case.models</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Case,<sp/>CaseNote</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.http<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>JsonResponse</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.views<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>View</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.views.generic.edit<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>CreateView,<sp/>DeleteView,<sp/>UpdateView</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.views.generic.detail<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>DetailView</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.views.generic<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ListView,<sp/>TemplateView</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.urls<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>reverse_lazy</highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacecase_1_1tables" kindref="compound">case.tables</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>CaseTable,<sp/>FullCaseTable</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django_tables2<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>RequestConfig,<sp/>SingleTableView</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.urls<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>reverse</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>django.shortcuts<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>get_object_or_404</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23" refid="classcase_1_1views_1_1_ajaxable_response_mixin" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_ajaxable_response_mixin" kindref="compound">AjaxableResponseMixin</ref>:</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="25"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Mixin<sp/>to<sp/>add<sp/>AJAX<sp/>support<sp/>to<sp/>a<sp/>form.</highlight></codeline>
<codeline lineno="26"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Must<sp/>be<sp/>used<sp/>with<sp/>an<sp/>object-based<sp/>FormView<sp/>(e.g.<sp/>CreateView)</highlight></codeline>
<codeline lineno="27"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28" refid="classcase_1_1views_1_1_ajaxable_response_mixin_1abd53a26dac55ade0caaa9122c0f6891b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_ajaxable_response_mixin_1abd53a26dac55ade0caaa9122c0f6891b" kindref="member">form_invalid</ref>(self,<sp/>form):</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>response<sp/>=<sp/>super().<ref refid="classcase_1_1views_1_1_ajaxable_response_mixin_1abd53a26dac55ade0caaa9122c0f6891b" kindref="member">form_invalid</ref>(form)</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.request.is_ajax():</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse(form.errors,<sp/>status=400)</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>response</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35" refid="classcase_1_1views_1_1_ajaxable_response_mixin_1acbe086cd92c4f54c3b0fdfd98fe8a1cd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_ajaxable_response_mixin_1acbe086cd92c4f54c3b0fdfd98fe8a1cd" kindref="member">form_valid</ref>(self,<sp/>form):</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>We<sp/>make<sp/>sure<sp/>to<sp/>call<sp/>the<sp/>parent&apos;s<sp/>form_valid()<sp/>method<sp/>because</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>it<sp/>might<sp/>do<sp/>some<sp/>processing<sp/>(in<sp/>the<sp/>case<sp/>of<sp/>CreateView,<sp/>it<sp/>will</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>call<sp/>form.save()<sp/>for<sp/>example).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>response<sp/>=<sp/>super().<ref refid="classcase_1_1views_1_1_ajaxable_response_mixin_1acbe086cd92c4f54c3b0fdfd98fe8a1cd" kindref="member">form_valid</ref>(form)</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.request.is_ajax():</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;pk&apos;</highlight><highlight class="normal">:<sp/>self.object.pk,</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>JsonResponse(data)</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>response</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Case<sp/>Main</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49" refid="classcase_1_1views_1_1_case_home" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_case_home" kindref="compound">CaseHome</ref>(TemplateView):</highlight></codeline>
<codeline lineno="50" refid="classcase_1_1views_1_1_case_home_1acb1aeb8c90703d49b72220aff9f9046b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>template_name<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;case/case_index.html&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#def<sp/>dispatch(self,<sp/>request,<sp/>*args,<sp/>**kwargs):</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>if<sp/>not<sp/>request.user.is_authenticated:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>render(request,<sp/>&apos;templates/registration/login.html&apos;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>else:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>super(CaseHome,<sp/>self).dispatch(request,<sp/>*args,<sp/>**kwargs)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58" refid="classcase_1_1views_1_1_case_home_1a33d00f18bf19ce6ac12ef9384caeb6cb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_case_home_1a33d00f18bf19ce6ac12ef9384caeb6cb" kindref="member">get_context_data</ref>(self,<sp/>**kwargs):</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context<sp/>=<sp/>super(CaseHome,<sp/>self).<ref refid="classcase_1_1views_1_1_case_home_1a33d00f18bf19ce6ac12ef9384caeb6cb" kindref="member">get_context_data</ref>(**kwargs)</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cases<sp/>=<sp/>Case.objects.all()</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context[</highlight><highlight class="stringliteral">&apos;cases&apos;</highlight><highlight class="normal">]<sp/>=<sp/>cases</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case_history<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>history_count<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>case<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>cases:</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case_history.append(case.history.most_recent())</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>history_count<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context[</highlight><highlight class="stringliteral">&apos;case_history&apos;</highlight><highlight class="normal">]<sp/>=<sp/>case_history</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context[</highlight><highlight class="stringliteral">&apos;history_count&apos;</highlight><highlight class="normal">]<sp/>=<sp/>history_count</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context[</highlight><highlight class="stringliteral">&apos;active_count&apos;</highlight><highlight class="normal">]<sp/>=<sp/>Case.objects.filter(status__title__icontains=</highlight><highlight class="stringliteral">&apos;active&apos;</highlight><highlight class="normal">).count()</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context[</highlight><highlight class="stringliteral">&apos;all_count&apos;</highlight><highlight class="normal">]<sp/>=<sp/>Case.objects.count()</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>context</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74" refid="classcase_1_1views_1_1_case_detail" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_case_detail" kindref="compound">CaseDetail</ref>(DetailView):</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76" refid="classcase_1_1views_1_1_case_detail_1a7ffbeeaf47ae8fcb52bda6d2baf82495" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>model<sp/>=<sp/>Case</highlight></codeline>
<codeline lineno="77" refid="classcase_1_1views_1_1_case_detail_1a717e45f7ccff743602c0a53036143463" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>template_name_suffix<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;_detail&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79" refid="classcase_1_1views_1_1_case_detail_1a636979dfd7ab0156147ae7af4e49d2a2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_case_detail_1a636979dfd7ab0156147ae7af4e49d2a2" kindref="member">get_context_data</ref>(self,<sp/>**kwargs):</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context<sp/>=<sp/>super(CaseDetail,<sp/>self).<ref refid="classcase_1_1views_1_1_case_detail_1a636979dfd7ab0156147ae7af4e49d2a2" kindref="member">get_context_data</ref>(**kwargs)</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>context</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84" refid="classcase_1_1views_1_1_case_create" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_case_create" kindref="compound">CaseCreate</ref>(CreateView):</highlight></codeline>
<codeline lineno="85" refid="classcase_1_1views_1_1_case_create_1acda903ea4367590097870b27873c03c6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>model<sp/>=<sp/>Case</highlight></codeline>
<codeline lineno="86" refid="classcase_1_1views_1_1_case_create_1a6def4ead4a3277e3f40b7f1c19789411" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>template_name_suffix<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;_create&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87" refid="classcase_1_1views_1_1_case_create_1ace061fe8ae0dc65dc626e5ab67def66e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>form_class=CaseCreateForm</highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89" refid="classcase_1_1views_1_1_case_create_1a567bd1ea62b2fa4ce349d43ef22cdbaa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_case_create_1a567bd1ea62b2fa4ce349d43ef22cdbaa" kindref="member">get_success_url</ref>(self,<sp/>**kwargs):</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>reverse(</highlight><highlight class="stringliteral">&apos;case_detail&apos;</highlight><highlight class="normal">,<sp/>kwargs={</highlight><highlight class="stringliteral">&apos;pk&apos;</highlight><highlight class="normal">:<sp/>self.object.pk})</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93" refid="classcase_1_1views_1_1_case_update" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_case_update" kindref="compound">CaseUpdate</ref>(UpdateView):</highlight></codeline>
<codeline lineno="94" refid="classcase_1_1views_1_1_case_update_1a34153fff33a278562acd81ec27e9d3da" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>model<sp/>=<sp/>Case</highlight></codeline>
<codeline lineno="95" refid="classcase_1_1views_1_1_case_update_1a64d6498a28c3280e442a421fe80032e4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>form_class=CaseEditForm</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#fields<sp/>=<sp/>[&apos;title&apos;,<sp/>&apos;reference&apos;,<sp/>&apos;background&apos;,<sp/>&apos;location&apos;,<sp/>&apos;description&apos;,<sp/>&apos;brief&apos;,<sp/>&apos;comment&apos;,<sp/>&apos;private&apos;,<sp/>&apos;type&apos;,<sp/>&apos;status&apos;,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;classification&apos;,<sp/>&apos;priority&apos;,<sp/>&apos;authorisation&apos;,<sp/>&apos;image_upload&apos;]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98" refid="classcase_1_1views_1_1_case_update_1a0551386c5548a98b11af68145bfde87b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>template_name_suffix<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;_update&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101" refid="classcase_1_1views_1_1_case_delete" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_case_delete" kindref="compound">CaseDelete</ref>(DeleteView):</highlight></codeline>
<codeline lineno="102" refid="classcase_1_1views_1_1_case_delete_1a651e0fc446a48e8f4b46afa5802c9c40" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>model<sp/>=<sp/>Case</highlight></codeline>
<codeline lineno="103" refid="classcase_1_1views_1_1_case_delete_1a0c79bd64bf4b7c32802bbbfd736d5de8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>success_url<sp/>=<sp/>reverse_lazy(</highlight><highlight class="stringliteral">&apos;case_list&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="104" refid="classcase_1_1views_1_1_case_delete_1aaa59c5eb504a53e61007eabb22e439da" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>template_name<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;case/case_delete.html&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Case<sp/>Notes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107" refid="classcase_1_1views_1_1_case_note_create" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_case_note_create" kindref="compound">CaseNoteCreate</ref>(CreateView):</highlight></codeline>
<codeline lineno="108" refid="classcase_1_1views_1_1_case_note_create_1a7f521c18b756ed9acdd9376bcfc5d719" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>model<sp/>=<sp/>CaseNote</highlight></codeline>
<codeline lineno="109" refid="classcase_1_1views_1_1_case_note_create_1ac88c8c2ccc280f4fb6cf6e935fb6ea60" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>template_name<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;case/note/casenote_create.html&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110" refid="classcase_1_1views_1_1_case_note_create_1af58c5c0da8b58a1c116f9d237358d16d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>form_class=CaseNoteCreateForm</highlight></codeline>
<codeline lineno="111" refid="classcase_1_1views_1_1_case_note_create_1a243d5afb380e913f4f052bce4b2d06b6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>case<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113" refid="classcase_1_1views_1_1_case_note_create_1aae50b7291de516d5dd396cc91e4c6a78" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_case_note_create_1aae50b7291de516d5dd396cc91e4c6a78" kindref="member">get_success_url</ref>(self,<sp/>**kwargs):</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>reverse(</highlight><highlight class="stringliteral">&quot;case_detail&quot;</highlight><highlight class="normal">,<sp/>kwargs={</highlight><highlight class="stringliteral">&apos;pk&apos;</highlight><highlight class="normal">:<sp/>self.object.pk})</highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight></codeline>
<codeline lineno="116" refid="classcase_1_1views_1_1_case_note_create_1a5c06d9933a42ec5f5a8e7942a0c4546e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_case_note_create_1a5c06d9933a42ec5f5a8e7942a0c4546e" kindref="member">get</ref>(self,<sp/>request,<sp/>*args,<sp/>**kwargs):</highlight></codeline>
<codeline lineno="117" refid="classcase_1_1views_1_1_case_note_create_1aace4fd094a3db0ba9b3ca06f1d4ce66c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classcase_1_1views_1_1_case_note_create_1aace4fd094a3db0ba9b3ca06f1d4ce66c" kindref="member">object</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case_pk<sp/>=<sp/>kwargs.get(</highlight><highlight class="stringliteral">&apos;casepk&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classcase_1_1views_1_1_case_note_create_1a243d5afb380e913f4f052bce4b2d06b6" kindref="member">case</ref><sp/>=<sp/>get_object_or_404(Case,<sp/>pk=case_pk)</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context_data<sp/>=<sp/>self.get_context_data()</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context_data.update(case=self.<ref refid="classcase_1_1views_1_1_case_note_create_1a243d5afb380e913f4f052bce4b2d06b6" kindref="member">case</ref>)</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.render_to_response(context_data)<sp/><sp/></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight></codeline>
<codeline lineno="124" refid="classcase_1_1views_1_1_case_note_create_1a6be615825051e51bc205d18c7de61aa3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_case_note_create_1a6be615825051e51bc205d18c7de61aa3" kindref="member">get_form_kwargs</ref>(self):</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kwargs<sp/>=<sp/>super(CaseNoteCreate,<sp/>self).<ref refid="classcase_1_1views_1_1_case_note_create_1a6be615825051e51bc205d18c7de61aa3" kindref="member">get_form_kwargs</ref>()</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kwargs.update({</highlight><highlight class="stringliteral">&apos;case&apos;</highlight><highlight class="normal">:<sp/>self.<ref refid="classcase_1_1views_1_1_case_note_create_1a243d5afb380e913f4f052bce4b2d06b6" kindref="member">case</ref>})</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>kwargs</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight><highlight class="comment">#class<sp/>CaseNoteUpdate(UpdateView):</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>model<sp/>=<sp/>CaseNote</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>form_class=CaseNoteEditForm</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>#fields<sp/>=<sp/>[&apos;title&apos;,<sp/>&apos;reference&apos;,<sp/>&apos;background&apos;,<sp/>&apos;location&apos;,<sp/>&apos;description&apos;,<sp/>&apos;brief&apos;,<sp/>&apos;comment&apos;,<sp/>&apos;private&apos;,<sp/>&apos;type&apos;,<sp/>&apos;status&apos;,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;classification&apos;,<sp/>&apos;priority&apos;,<sp/>&apos;authorisation&apos;,<sp/>&apos;image_upload&apos;]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>template_name_suffix<sp/>=<sp/>&apos;note_update&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight><highlight class="comment">#class<sp/>CaseNoteDelete(DeleteView):</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>model<sp/>=<sp/>CaseNote</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>success_url<sp/>=<sp/>reverse_lazy(&apos;casenote_list&apos;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Case<sp/>Tasks</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Case<sp/>Displays</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="148" refid="classcase_1_1views_1_1_case_table" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1tables_1_1_case_table" kindref="compound">CaseTable</ref>(SingleTableView):</highlight></codeline>
<codeline lineno="149" refid="classcase_1_1views_1_1_case_table_1aba86e2ecd650eb785c504630eeccef22" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>model<sp/>=<sp/>Case</highlight></codeline>
<codeline lineno="150" refid="classcase_1_1views_1_1_case_table_1aad10748ba09f764f0f01deb81da4dc34" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>table_class<sp/>=<sp/>FullCaseTable</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153" refid="classcase_1_1views_1_1_case_list" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_case_list" kindref="compound">CaseList</ref>(ListView):</highlight></codeline>
<codeline lineno="154" refid="classcase_1_1views_1_1_case_list_1abd3c0f7a2b6d4b61d307af55227085fd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>paginate_by<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156" refid="classcase_1_1views_1_1_case_list_1a3e72ccbcded80add0d1429d13c15b1f3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classcase_1_1views_1_1_case_list_1a3e72ccbcded80add0d1429d13c15b1f3" kindref="member">get</ref>(self,<sp/>request):</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case_ids<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cases<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>case<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>Case.objects.all():</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>case_ids.append(case.pk)</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cases<sp/>=<sp/>Case.objects.filter(pk__in=case_ids)</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Case.DoesNotExist:</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cases<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>render(request,<sp/></highlight><highlight class="stringliteral">&apos;case/case_list.html&apos;</highlight><highlight class="normal">,<sp/>{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;cases_list&apos;</highlight><highlight class="normal">:<sp/>cases,</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>})</highlight></codeline>
    </programlisting>
    <location file="//ml350/users$/josh/Documents/My Code/Django/Projects/vs_kases/Kases/case/views.py"/>
  </compounddef>
</doxygen>
